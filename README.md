work in progress code for citp website
